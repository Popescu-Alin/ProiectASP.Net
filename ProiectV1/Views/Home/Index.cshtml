@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <h1 class="display-4">Welcome</h1>
</div>


@if(ViewBag.FirstProductExists==true){
    <div class="card shadowCustom m-3"  onclick="window.location.href = '/Products/Show/@ViewBag.FirstProduct.Id';">
            <img class="card-img-top" src="@ViewBag.FirstProduct.Photo" alt="Poza" style="height:40vh">
            <div class="card-body border">
                <h3 class="card-title bg-color2 py-3 px-3 rounded-2 text-center">@ViewBag.FirstProduct.Title</h3>

                <div><i class="bi bi-globe"></i> @ViewBag.FirstProduct.Category.CategoryName</div>
                
                @{
                //stele
                }
                @for ( var i = 1; i <=ViewBag.FirstProduct.Stars ; i++)
                {
                    <img style ="height:25px;width:25px;"  src="~/DesignImg/Star.png"/>
                }
                @if(ViewBag.FirstProduct.Stars - Math.Floor(ViewBag.FirstProduct.Stars)!=0){
                    @if (ViewBag.FirstProduct.Stars - Math.Floor(ViewBag.FirstProduct.Stars) <= 0.25) {
                        <img style ="height:25px;width:6px;"  src="~/DesignImg/quarterStar.png"/>
                    }
                    else{
                        if (ViewBag.FirstProduct.Stars - Math.Floor(ViewBag.FirstProduct.Stars) <= 0.50)
                        {
                            <img style ="height:25px;width:13px;"  src="~/DesignImg/halfStar.png"/>
                        }
                        else
                        {
                            <img style ="height:25px;width:18px;"  src="~/DesignImg/3quarterStar.png"/>
                        }
                    }
                }

                

                <div class="d-flex justify-content-between flex-row mt-3 mb-3" >

                    <button class="btn btn-success" onclick="AddToCart(@ViewBag.FirstProduct.Id)"><i class="bi bi-cart-plus"></i> Add to Cart</button>
                    <div class="card-text text-center">@ViewBag.FirstProduct.Price $</div>

                </div>
            </div>
        </div>
}



<div class="d-flex flex-row flex-wrap justify-content-center ">
    @foreach (ProiectV1.Models.Product product in ViewBag.Products)
    {
        <div class="card shadowCustom m-3" style="width: 20vw; height:50vh; position: relative; overflow: auto;" onclick="window.location.href = '/Products/Show/@product.Id';">
            <img class="card-img-top" src="@product.Photo" alt="Poza" style="height:40%">
            <div class="card-body border">
                <h3 class="card-title bg-color2 py-3 px-3 rounded-2 text-center">@product.Title</h3>

                <div><i class="bi bi-globe"></i> @product.Category.CategoryName</div>
                
                @{
                //stele
                }
                @for ( var i = 1; i <=product.Stars ; i++)
                {
                    <img style ="height:25px;width:25px;"  src="~/DesignImg/Star.png"/>
                }
                @if(product.Stars - Math.Floor(product.Stars)!=0){
                    @if (product.Stars - Math.Floor(product.Stars) <= 0.25) {
                        <img style ="height:25px;width:6px;"  src="~/DesignImg/quarterStar.png"/>
                    }
                    else{
                        if (product.Stars - Math.Floor(product.Stars) <= 0.50)
                        {
                            <img style ="height:25px;width:13px;"  src="~/DesignImg/halfStar.png"/>
                        }
                        else
                        {
                            <img style ="height:25px;width:18px;"  src="~/DesignImg/3quarterStar.png"/>
                        }
                    }
                }

                

                <div class="d-flex justify-content-between flex-row mt-3 mb-3" >

                    <button class="btn btn-success" onclick="AddToCart(@product.Id)"><i class="bi bi-cart-plus"></i> Add to Cart</button>
                    <div class="card-text text-center">@product.Price $</div>

                </div>
            </div>
        </div>
        


    }
</div>